<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pommy - í”„ë¡¬í”„íŠ¸ ë°ˆ ê³µìœ </title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Tailwind ì»¤ìŠ¤í…€ ì„¤ì • -->
    <script>
        /* global tailwind */
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'main': '#FFD572',
                        'background': '#FFF8E1',
                        'point': '#FF9F43',
                    },
                    animation: {
                        'bounce-in': 'bounce-in 0.8s ease-out',
                        'fade-in': 'fade-in 0.5s ease-out',
                        'fade-out': 'fade-out 0.5s ease-out forwards',
                    },
                    keyframes: {
                        'bounce-in': {
                            '0%': { transform: 'scale(0.8)', opacity: '0' },
                            '70%': { transform: 'scale(1.05)', opacity: '1' },
                            '100%': { transform: 'scale(1)', opacity: '1' },
                        },
                        'fade-in': {
                            '0%': { opacity: '0', transform: 'translateY(-20px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' },
                        },
                        'fade-out': {
                            '0%': { opacity: '1', transform: 'translateY(0)' },
                            '100%': { opacity: '0', transform: 'translateY(-20px)' },
                        }
                    }
                }
            }
        }
    </script>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
            href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&family=Noto+Sans+KR:wght@400;500;700&display=swap"
            rel="stylesheet">

    <style>
        html, body {
            height: 100%;
            scroll-behavior: smooth;
        }
        body {
            font-family: 'Inter', 'Noto Sans KR', sans-serif;
        }

        .page {
            display: none;
        }

        #notification-box {
            display: none;
            z-index: 100;
        }

        /* ë­í‚¹ ìºëŸ¬ì…€ ë ˆì´ì•„ì›ƒ (3ì¥ íšŒì „) */
        #ranking-track {
            position: relative;
            height: 260px;
        }

        .ranking-slide {
            position: absolute;
            top: 0;
            left: 50%;
            width: 100%;
            transform: translateX(-50%) scale(0.8);
            opacity: 0.4;
            transition: transform 0.4s ease, opacity 0.4s ease;
        }

        .ranking-slide.slide-left {
            transform: translateX(-140%) scale(0.85);
            opacity: 0.6;
            z-index: 5;
        }

        .ranking-slide.slide-center {
            transform: translateX(-50%) scale(1);
            opacity: 1;
            z-index: 10;
        }

        .ranking-slide.slide-right {
            transform: translateX(40%) scale(0.85);
            opacity: 0.6;
            z-index: 5;
        }
    </style>
</head>
<body class="bg-background">

<!-- ===== ìŠ¤í”Œë˜ì‹œ í™”ë©´ ===== -->
<div id="splash-screen"
     class="fixed inset-0 bg-main flex items-center justify-center z-50 transition-opacity duration-500 ease-out">
    <img src="./images/logo-stacked.png" alt="Pommy Logo" class="w-48 animate-bounce-in">
</div>

<!-- ===== ì•Œë¦¼ ë©”ì‹œì§€ ë°•ìŠ¤ ===== -->
<div id="notification-box"
     class="fixed top-5 left-1/2 -translate-x-1/2 bg-point text-white font-bold py-3 px-6 rounded-lg shadow-xl animate-fade-in">
    <span id="notification-message"></span>
</div>

<!-- ===== ì „ì²´ ì•± ì»¨í…Œì´ë„ˆ ===== -->
<div id="app-container" class="max-w-5xl mx-auto px-6 min-h-screen">

    <!-- ===== ëœë”© í˜ì´ì§€ (ì²« í™”ë©´) ===== -->
    <div id="intro-page" class="page min-h-screen flex flex-col">
        <!-- ìƒë‹¨ ë¡œê³  + í™ˆ ë²„íŠ¼ -->
        <header class="flex items-center justify-between py-6">
            <div class="flex items-center gap-2">
                <img src="./images/logo-horizontal.png" alt="Pommy Logo" class="h-8">
            </div>
            <button onclick="navigateTo('main-page')"
                    class="flex items-center gap-2 bg-white text-gray-800 text-sm font-semibold py-2 px-4 rounded-full shadow hover:bg-gray-100 transition-colors">
                <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                          d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0h6"/>
                </svg>
                í™ˆìœ¼ë¡œ
            </button>
        </header>

        <!-- ì¤‘ì•™ ì½˜í…ì¸  -->
        <main class="flex-1 flex flex-col items-center justify-center px-4">
            <div class="flex flex-col items-center gap-4">
                <img src="./images/logo-stacked.png" alt="Pommy Logo" class="w-60 md:w-60">
                <h1 class="text-2xl md:text-3xl font-extrabold text-gray-900 text-center">
                    í”„ë¡¬í”„íŠ¸ ë°ˆì„ ë°œê²¬í•˜ê³ , ê³µìœ í•˜ëŠ” ê³µê°„
                </h1>
                <p class="text-gray-600 text-center max-w-xl">
                    ì¬ë¯¸ìˆëŠ” AI í”„ë¡¬í”„íŠ¸ ë°ˆì„ ëª¨ì•„ë³´ê³ , ë‚˜ë§Œì˜ ë°ˆì„ ì—…ë¡œë“œí•´ë³´ì„¸ìš”.
                </p>
            </div>

            <!-- ê²€ìƒ‰ ë°” (ëœë”©ìš©) -->
            <div class="relative w-full max-w-xl mt-4">
                <label for="intro-search-input" class="sr-only">í”„ë¡¬í”„íŠ¸ ê²€ìƒ‰</label>
                <input type="search"
                       id="intro-search-input"
                       placeholder="ì¬ë¯¸ìˆëŠ” í”„ë¡¬í”„íŠ¸ ë°ˆì„ ê²€ìƒ‰í•´ë³´ì„¸ìš”!"
                       class="w-full pl-12 pr-4 py-3 rounded-full shadow-lg border border-gray-200
                              focus:outline-none focus:ring-2 focus:ring-main bg-white/90">
                <button onclick="handleIntroSearch()"
                        class="absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-point">
                    <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" fill="none"
                         viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round"
                              stroke-width="2"
                              d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                    </svg>
                </button>
            </div>

        </main>
    </div>

    <!-- ===== ë¡œê·¸ì¸ í˜ì´ì§€ ===== -->
    <div id="login-page" class="page max-w-md mx-auto mt-24">
        <div class="bg-white p-8 rounded-xl shadow-lg">
            <div class="flex justify-center mb-8">
                <img src="./images/logo-stacked.png" alt="Pommy Logo" class="w-40">
            </div>

            <div class="space-y-4">
                <div>
                    <label for="login-id" class="block text-sm font-medium text-gray-700">ì•„ì´ë””</label>
                    <input type="text" id="login-id"
                           class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm
                                  focus:outline-none focus:ring-main focus:border-main">
                </div>
                <div>
                    <label for="login-pw" class="block text-sm font-medium text-gray-700">ë¹„ë°€ë²ˆí˜¸</label>
                    <input type="password" id="login-pw"
                           class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm
                                  focus:outline-none focus:ring-main focus:border-main">
                </div>
                <button onclick="handleLogin()"
                        class="w-full bg-point text-white font-bold py-2 px-4 rounded-md hover:bg-opacity-90 transition-colors">
                    ë¡œê·¸ì¸
                </button>
                <div class="text-center">
                    <a href="#" onclick="event.preventDefault(); navigateTo('signup-page')"
                       class="text-sm text-gray-600 hover:text-point">
                        íšŒì›ì´ ì•„ë‹ˆì‹ ê°€ìš”? <span class="font-semibold">íšŒì›ê°€ì…í•˜ê¸°</span>
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- ===== íšŒì›ê°€ì… í˜ì´ì§€ ===== -->
    <div id="signup-page" class="page max-w-md mx-auto mt-24">
        <div class="bg-white p-8 rounded-xl shadow-lg">
            <div class="flex justify-center mb-4">
                <img src="./images/logo-stacked.png" alt="Pommy Logo" class="w-32">
            </div>

            <h1 class="text-3xl font-bold text-center text-point mb-6">íšŒì›ê°€ì…</h1>
            <div class="space-y-4">
                <div>
                    <label for="signup-id" class="block text-sm font-medium text-gray-700">ì•„ì´ë””</label>
                    <input type="text" id="signup-id"
                           class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm
                                  focus:outline-none focus:ring-main focus:border-main">
                </div>
                <div>
                    <label for="signup-pw" class="block text-sm font-medium text-gray-700">ë¹„ë°€ë²ˆí˜¸</label>
                    <input type="password" id="signup-pw"
                           class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm
                                  focus:outline-none focus:ring-main focus:border-main">
                </div>
                <div>
                    <label for="signup-nickname" class="block text-sm font-medium text-gray-700">ë‹‰ë„¤ì„</label>
                    <input type="text" id="signup-nickname"
                           class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm
                                  focus:outline-none focus:ring-main focus:border-main">
                </div>
                <button onclick="handleSignup()"
                        class="w-full bg-point text-white font-bold py-2 px-4 rounded-md hover:bg-opacity-90 transition-colors">
                    íšŒì›ê°€ì… ì™„ë£Œ
                </button>
                <div class="text-center">
                    <a href="#" onclick="event.preventDefault(); navigateTo('login-page')"
                       class="text-sm text-gray-600 hover:text-point">
                        ì´ë¯¸ ê³„ì •ì´ ìˆìœ¼ì‹ ê°€ìš”? <span class="font-semibold">ë¡œê·¸ì¸í•˜ê¸°</span>
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- ===== ë©”ì¸ í˜ì´ì§€ (ë‘ ë²ˆì§¸ í™”ë©´) ===== -->
    <div id="main-page" class="page space-y-6 relative mt-4">
        <!-- ìƒë‹¨ í—¤ë” -->
        <header class="flex items-center py-4">
            <button onclick="event.preventDefault(); navigateTo('intro-page');"
                    class="flex items-center gap-2 cursor-pointer">
                <img src="./images/logo-horizontal.png" alt="Pommy Logo" class="h-8">
            </button>

            <!-- ì˜¤ë¥¸ìª½ ì •ë ¬ëœ ë²„íŠ¼ë“¤ -->
            <nav class="ml-auto flex items-center gap-3">
                <!-- ë‹ë³´ê¸° ë²„íŠ¼ -->
                <button onclick="toggleHeaderSearch()"
                        class="bg-white text-gray-700 p-2 rounded-full shadow hover:bg-gray-100 transition-colors">
                    <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" fill="none"
                         viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                              d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                    </svg>
                </button>

                <button onclick="secureNavigate('upload-page')"
                        class="bg-main text-gray-800 font-semibold py-2 px-4 rounded-full shadow hover:bg-opacity-90 transition-colors">
                    + ì—…ë¡œë“œ
                </button>
                <button onclick="secureNavigate('mypage-page')"
                        class="bg-white text-gray-800 font-semibold py-2 px-4 rounded-full shadow hover:bg-gray-100 transition-colors">
                    ë§ˆì´í˜ì´ì§€
                </button>

                <!-- ë¡œê·¸ì•„ì›ƒ (ë¡œê·¸ì¸ ìƒíƒœì—ì„œë§Œ ë³´ì´ê²Œ) -->
                <button id="logout-button-main"
                        onclick="handleLogout()"
                        class="hidden bg-gray-200 text-gray-700 font-semibold py-2 px-4 rounded-full shadow hover:bg-gray-300 transition-colors">
                    ë¡œê·¸ì•„ì›ƒ
                </button>
            </nav>
        </header>

        <!-- í—¤ë” ê²€ìƒ‰ íŒì—… -->
        <div id="header-search-popover"
             class="hidden absolute right-0 top-16 z-50 bg-white/95 border border-main/40 rounded-xl shadow-lg px-4 py-3">
            <div class="flex items-center gap-2">
                <label for="header-search-input" class="sr-only">ê²€ìƒ‰</label>
                <input id="header-search-input"
                       type="search"
                       placeholder="ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”"
                       class="w-52 px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-main">
                <button onclick="handleHeaderSearch()"
                        class="text-sm font-semibold text-white bg-point px-3 py-2 rounded-lg hover:bg-opacity-90">
                    ê²€ìƒ‰
                </button>
                <button onclick="toggleHeaderSearch()" class="text-gray-400 hover:text-gray-600">
                    âœ•
                </button>
            </div>
        </div>

        <!-- ì¡°íšŒìˆ˜ ë­í‚¹ ì„¹ì…˜ -->
        <section class="space-y-4">
            <h2 class="text-2xl font-bold text-gray-800">ğŸ”¥ ì¡°íšŒìˆ˜ ë­í‚¹</h2>

            <div class="relative w-full max-w-md mx-auto">
                <div class="overflow-visible rounded-xl">
                    <div id="ranking-track">
                        <!-- 1ìœ„ -->
                        <div class="ranking-slide">
                            <div class="relative bg-white rounded-xl shadow-lg overflow-hidden cursor-pointer transform transition-transform duration-300 ease-out hover:scale-105"
                                 onclick="secureNavigate('detail-page')">
                                <div class="relative">
                                    <img class="w-full h-48 object-cover"
                                         src="https://placehold.co/800x400/FFD572/FFF8E1?text=MiiM+Preview"
                                         alt="í”„ë¡¬í”„íŠ¸ ë¯¸ë¦¬ë³´ê¸°">
                                    <!-- ì¡°íšŒìˆ˜ ë°°ì§€ -->
                                    <div class="absolute top-3 right-3 bg-black/40 text-white text-xs px-2 py-1 rounded-full flex items-center gap-1">
                                        <svg class="w-3 h-3" xmlns="http://www.w3.org/2000/svg" fill="none"
                                             viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                  d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                  d="M2.458 12C3.732 7.943 7.523 5 12 5c4.477 0 8.268 2.943 9.542 7-1.274 4.057-5.065 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"/>
                                        </svg>
                                        <span>ì¡°íšŒìˆ˜ 1,234</span> <!-- ìˆ«ìëŠ” ë‚˜ì¤‘ì— JSë¡œ ë°”ê¿”ë„ ë¨ -->
                                    </div>

                                    <span class="absolute top-3 left-3 bg-white bg-opacity-80 backdrop-blur-sm text-gray-800 text-xl font-bold px-3 py-1 rounded-md">
                                        ğŸ¥‡
                                    </span>
                                </div>
                                <div class="p-4">
                                    <h3 class="font-bold text-xl">ìš°ì£¼ ë¹„í–‰ì‚¬ í–„ìŠ¤í„°</h3>
                                    <p class="text-sm text-gray-600">by SpaceHam</p>
                                </div>
                            </div>
                        </div>

                        <!-- 2ìœ„ -->
                        <div class="ranking-slide">
                            <div class="relative bg-white rounded-xl shadow-lg overflow-hidden cursor-pointer transform transition-transform duration-300 ease-out hover:scale-105"
                                 onclick="secureNavigate('detail-page')">
                                <div class="relative">
                                    <img class="w-full h-48 object-cover"
                                         src="https://placehold.co/800x400/CCCCCC/FFF8E1?text=MiiM+Preview"
                                         alt="í”„ë¡¬í”„íŠ¸ ë¯¸ë¦¬ë³´ê¸°">
                                    <!-- ì¡°íšŒìˆ˜ ë°°ì§€ -->
                                    <div class="absolute top-3 right-3 bg-black/40 text-white text-xs px-2 py-1 rounded-full flex items-center gap-1">
                                        <svg class="w-3 h-3" xmlns="http://www.w3.org/2000/svg" fill="none"
                                             viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                  d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                  d="M2.458 12C3.732 7.943 7.523 5 12 5c4.477 0 8.268 2.943 9.542 7-1.274 4.057-5.065 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"/>
                                        </svg>
                                        <span>ì¡°íšŒìˆ˜ 1,234</span> <!-- ìˆ«ìëŠ” ë‚˜ì¤‘ì— JSë¡œ ë°”ê¿”ë„ ë¨ -->
                                    </div>

                                    <span class="absolute top-3 left-3 bg-white bg-opacity-80 backdrop-blur-sm text-gray-800 text-xl font-bold px-3 py-1 rounded-md">
                                        ğŸ¥ˆ
                                    </span>
                                </div>
                                <div class="p-4">
                                    <h3 class="font-bold text-lg">ì‚¬ì´ë²„í‘í¬ ê³ ì–‘ì´</h3>
                                    <p class="text-sm text-gray-600">by CatLover</p>
                                </div>
                            </div>
                        </div>

                        <!-- 3ìœ„ -->
                        <div class="ranking-slide">
                            <div class="relative bg-white rounded-xl shadow-lg overflow-hidden cursor-pointer transform transition-transform duration-300 ease-out hover:scale-105"
                                 onclick="secureNavigate('detail-page')">
                                <div class="relative">
                                    <img class="w-full h-48 object-cover"
                                         src="https://placehold.co/800x400/B08D57/FFF8E1?text=MiiM+Preview"
                                         alt="í”„ë¡¬í”„íŠ¸ ë¯¸ë¦¬ë³´ê¸°">
                                    <!-- ì¡°íšŒìˆ˜ ë°°ì§€ -->
                                    <div class="absolute top-3 right-3 bg-black/40 text-white text-xs px-2 py-1 rounded-full flex items-center gap-1">
                                        <svg class="w-3 h-3" xmlns="http://www.w3.org/2000/svg" fill="none"
                                             viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                  d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                  d="M2.458 12C3.732 7.943 7.523 5 12 5c4.477 0 8.268 2.943 9.542 7-1.274 4.057-5.065 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"/>
                                        </svg>
                                        <span>ì¡°íšŒìˆ˜ 1,234</span> <!-- ìˆ«ìëŠ” ë‚˜ì¤‘ì— JSë¡œ ë°”ê¿”ë„ ë¨ -->
                                    </div>

                                    <span class="absolute top-3 left-3 bg-white bg-opacity-80 backdrop-blur-sm text-gray-800 text-xl font-bold px-3 py-1 rounded-md">
                                        ğŸ¥‰
                                    </span>
                                </div>
                                <div class="p-4">
                                    <h3 class="font-bold text-lg">ì¤‘ì„¸ ê¸°ì‚¬ ëŒ•ëŒ•ì´</h3>
                                    <p class="text-sm text-gray-600">by DogKnight</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ì¢Œìš° ë²„íŠ¼ -->
                <button onclick="prevRank()"
                        class="absolute left-0 top-1/2 -translate-y-1/2 -translate-x-4 bg-white bg-opacity-70 p-2 rounded-full shadow-md text-gray-700 hover:bg-opacity-100 z-10">
                    <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                              d="M15 19l-7-7 7-7"/>
                    </svg>
                </button>
                <button onclick="nextRank()"
                        class="absolute right-0 top-1/2 -translate-y-1/2 translate-x-4 bg-white bg-opacity-70 p-2 rounded-full shadow-md text-gray-700 hover:bg-opacity-100 z-10">
                    <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                              d="M9 5l7 7-7 7"/>
                    </svg>
                </button>

                <!-- ì¸ë””ì¼€ì´í„° ì  -->
                <div id="ranking-indicators" class="flex justify-center gap-2 mt-10">
                    <button onclick="showRankByDot(0)"
                            class="w-3 h-3 bg-point rounded-full transition-all"></button>
                    <button onclick="showRankByDot(1)"
                            class="w-3 h-3 bg-gray-300 rounded-full transition-all"></button>
                    <button onclick="showRankByDot(2)"
                            class="w-3 h-3 bg-gray-300 rounded-full transition-all"></button>
                </div>
            </div>
        </section>

        <!-- ìµœì‹  í”„ë¡¬í”„íŠ¸ ì„¹ì…˜ -->
        <section class="space-y-4 pb-10">
            <h2 class="text-2xl font-bold text-gray-800">âœ¨ ìµœì‹  í”„ë¡¬í”„íŠ¸</h2>
            <div id="main-prompt-list"
                 class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">

                <div class="bg-white rounded-xl shadow-md overflow-hidden cursor-pointer transform
                            transition-transform duration-300 ease-out hover:scale-105"
                     onclick="secureNavigate('detail-page')">
                    <img class="w-full h-48 object-cover"
                         src="https://placehold.co/600x400/FFD572/FFF8E1?text=MiiM+Preview"
                         alt="í”„ë¡¬í”„íŠ¸ ë¯¸ë¦¬ë³´ê¸°">
                    <div class="p-4">
                        <h3 class="font-bold text-lg">ì´ˆí˜„ì‹¤ì£¼ì˜ ê°•ì•„ì§€</h3>
                        <p class="text-sm text-gray-600">by ArtDog</p>
                        <p class="text-sm text-gray-500 mt-2 truncate">
                            Dali, surrealism, a dog made of clouds...
                        </p>
                        <div class="flex gap-2 mt-2">
                            <span class="bg-gray-200 text-xs text-gray-700 px-2 py-0.5 rounded-full">Midjourney</span>
                            <span class="bg-blue-100 text-xs text-blue-700 px-2 py-0.5 rounded-full">GPT-4</span>
                        </div>
                    </div>
                </div>

                <div class="bg-white rounded-xl shadow-md overflow-hidden cursor-pointer transform
                            transition-transform duration-300 ease-out hover:scale-105"
                     onclick="secureNavigate('detail-page')">
                    <img class="w-full h-48 object-cover"
                         src="https://placehold.co/600x400/FF9F43/FFF8E1?text=MiiM+Preview"
                         alt="í”„ë¡¬í”„íŠ¸ ë¯¸ë¦¬ë³´ê¸°">
                    <div class="p-4">
                        <h3 class="font-bold text-lg">í•˜ëŠ˜ì„ ë‚˜ëŠ” í”¼ì</h3>
                        <p class="text-sm text-gray-600">by PizzaMan</p>
                        <p class="text-sm text-gray-500 mt-2 truncate">
                            A giant pepperoni pizza flying over the city of...
                        </p>
                        <div class="flex gap-2 mt-2">
                            <span class="bg-green-100 text-xs text-green-700 px-2 py-0.5 rounded-full">Gemini</span>
                        </div>
                    </div>
                </div>

                <div class="bg-white rounded-xl shadow-md overflow-hidden cursor-pointer transform
                            transition-transform duration-300 ease-out hover:scale-105"
                     onclick="secureNavigate('detail-page')">
                    <img class="w-full h-48 object-cover"
                         src="https://placehold.co/600x400/FFD572/FFF8E1?text=MiiM+Preview"
                         alt="í”„ë¡¬í”„íŠ¸ ë¯¸ë¦¬ë³´ê¸°">
                    <div class="p-4">
                        <h3 class="font-bold text-lg">80ë…„ëŒ€ ì˜í™” í¬ìŠ¤í„°</h3>
                        <p class="text-sm text-gray-600">by RetroLover</p>
                        <p class="text-sm text-gray-500 mt-2 truncate">
                            Create a movie poster for a fictional 80s action...
                        </p>
                        <div class="flex gap-2 mt-2">
                            <span class="bg-purple-100 text-xs text-purple-700 px-2 py-0.5 rounded-full">Sora</span>
                            <span class="bg-gray-200 text-xs text-gray-700 px-2 py-0.5 rounded-full">Midjourney</span>
                        </div>
                    </div>
                </div>

            </div>
        </section>
    </div>

    <!-- ===== ì—…ë¡œë“œ í˜ì´ì§€ ===== -->
    <div id="upload-page" class="page max-w-2xl mx-auto mt-24">
        <div class="bg-white p-8 rounded-xl shadow-lg space-y-6">
            <h1 class="text-3xl font-bold text-gray-800">ìƒˆ í”„ë¡¬í”„íŠ¸ ì—…ë¡œë“œ</h1>
            <div>
                <label for="upload-title" class="block text-sm font-medium text-gray-700">ì œëª©</label>
                <input type="text" id="upload-title" placeholder="ë©‹ì§„ ë°ˆì˜ ì œëª©ì„ ë¶™ì—¬ì£¼ì„¸ìš”"
                       class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm
                              focus:outline-none focus:ring-main focus:border-main">
            </div>

            <div>
                <label for="upload-description" class="block text-sm font-medium text-gray-700">ì„¤ëª… (ì„ íƒ)</label>
                <textarea id="upload-description" rows="3"
                          placeholder="ì´ ë°ˆì— ëŒ€í•œ ê°„ë‹¨í•œ ì„¤ëª…ì„ ì¶”ê°€í•˜ì„¸ìš”..."
                          class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm
                                 focus:outline-none focus:ring-main focus:border-main"></textarea>
            </div>

            <div>
                <label for="upload-prompt" class="block text-sm font-medium text-gray-700">í”„ë¡¬í”„íŠ¸ ë‚´ìš©</label>
                <textarea id="upload-prompt" rows="8"
                          placeholder="ì—¬ê¸°ì— í”„ë¡¬í”„íŠ¸ ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”..."
                          class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm
                                 focus:outline-none focus:ring-main focus:border-main"></textarea>
            </div>

            <div>
                <label for="upload-image" class="block text-sm font-medium text-gray-700">ë¯¸ë¦¬ë³´ê¸° ì‚¬ì§„</label>
                <input type="file" id="upload-image" accept="image/*"
                       class="mt-1 block w-full text-sm text-gray-500
                              file:mr-4 file:py-2 file:px-4
                              file:rounded-full file:border-0
                              file:text-sm file:font-semibold
                              file:bg-main file:text-gray-800
                              hover:file:bg-opacity-90">
            </div>

            <div>
                <label for="upload-sns" class="block text-sm font-medium text-gray-700">SNS URL (ì„ íƒ)</label>
                <input type="url" id="upload-sns" placeholder="https://..."
                       class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm
                              focus:outline-none focus:ring-main focus:border-main">
            </div>

            <div>
                <label for="upload-ai" class="block text-sm font-medium text-gray-700">ì‚¬ìš© AI (ë‹¤ì¤‘ ì„ íƒ ê°€ëŠ¥)</label>
                <select id="upload-ai" multiple
                        class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm
                               focus:outline-none focus:ring-main focus:border-main">
                    <option>GPT</option>
                    <option>Gemini</option>
                    <option>Midjourney</option>
                    <option>Sora</option>
                    <option>DALL-E</option>
                    <option>ê¸°íƒ€</option>
                </select>
            </div>

            <div class="flex gap-4">
                <button onclick="navigateTo('main-page')"
                        class="w-full bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-md hover:bg-gray-300 transition-colors">
                    ì·¨ì†Œ
                </button>
                <button onclick="handleUpload()"
                        class="w-full bg-point text-white font-bold py-2 px-4 rounded-md hover:bg-opacity-90 transition-colors">
                    ì—…ë¡œë“œí•˜ê¸°
                </button>
            </div>
        </div>
    </div>

    <!-- ===== ë””í…Œì¼ í˜ì´ì§€ ===== -->
    <div id="detail-page" class="page max-w-2xl mx-auto mt-24">
        <div class="bg-white p-8 rounded-xl shadow-lg space-y-6">
            <!-- ìƒë‹¨: ë’¤ë¡œê°€ê¸° + ì¡°íšŒìˆ˜ -->
            <div class="flex items-center justify-between">
                <button onclick="navigateTo('main-page')"
                        class="text-sm text-gray-600 hover:text-point">&larr; ë’¤ë¡œê°€ê¸°</button>

                <div class="flex items-center gap-1 text-sm text-gray-500">
                    <svg class="w-4 h-4" xmlns="http://www.w3.org/2000/svg" fill="none"
                         viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                              d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                              d="M2.458 12C3.732 7.943 7.523 5 12 5c4.477 0 8.268 2.943 9.542 7-1.274 4.057-5.065 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"/>
                    </svg>
                    <span id="detail-view-count">ì¡°íšŒìˆ˜ 1,234</span>
                </div>
            </div>

            <p class="text-lg font-semibold text-gray-700">
                by <span class="text-point">SpaceHam</span>
            </p>

            <div>
                <h2 class="text-xl font-bold mb-2">ë¯¸ë¦¬ë³´ê¸°</h2>
                <img class="w-full rounded-lg shadow-md"
                     src="https://placehold.co/800x600/FFD572/FFF8E1?text=MiiM+Detail+Preview"
                     alt="í”„ë¡¬í”„íŠ¸ ìƒì„¸ ë¯¸ë¦¬ë³´ê¸°">
            </div>

            <div>
                <h2 class="text-xl font-bold mb-2">ì„¤ëª…</h2>
                <p class="text-gray-700">
                    ì´ ë°ˆì€ ìš©ê°í•œ í–„ìŠ¤í„°ê°€ ìš°ì£¼ë¥¼ íƒí—˜í•˜ëŠ” ë‚´ìš©ì…ë‹ˆë‹¤.
                </p>
            </div>

            <div>
                <h2 class="text-xl font-bold mb-2">í”„ë¡¬í”„íŠ¸</h2>
                <pre class="bg-gray-100 p-4 rounded-md text-sm text-gray-800 overflow-x-auto whitespace-pre-wrap">
A hamster wearing a detailed astronaut suit, floating in space, with planet Earth in the background. The hamster looks brave and curious. Hyper-realistic, cinematic lighting, 8K, octane render.
                </pre>
            </div>

            <div>
                <h2 class="text-xl font-bold mb-2">ì‚¬ìš©ëœ AI</h2>
                <div class="flex gap-3 flex-wrap">
                    <button onclick="window.open('https://gemini.google.com/', '_blank')"
                            class="bg-green-100 text-green-700 font-semibold py-2 px-4 rounded-lg hover:bg-green-200 transition-colors">
                        Geminië¡œ ì´ë™ &rarr;
                    </button>
                    <button onclick="window.open('https://www.midjourney.com/', '_blank')"
                            class="bg-gray-200 text-gray-700 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors">
                        Midjourneyë¡œ ì´ë™ &rarr;
                    </button>
                </div>
            </div>

            <div>
                <h2 class="text-xl font-bold mb-2">SNS / ì¶œì²˜</h2>
                <div class="flex gap-3 flex-wrap">
                    <button onclick="window.open('https://www.instagram.com/example', '_blank')"
                            class="bg-pink-100 text-pink-700 font-semibold py-2 px-4 rounded-lg hover:bg-pink-200 transition-colors">
                        Instagram &rarr;
                    </button>
                    <button onclick="window.open('https://www.youtube.com/example', '_blank')"
                            class="bg-red-100 text-red-700 font-semibold py-2 px-4 rounded-lg hover:bg-red-200 transition-colors">
                        YouTube &rarr;
                    </button>
                    <button onclick="window.open('https://twitter.com/example_user', '_blank')"
                            class="bg-blue-100 text-blue-700 font-semibold py-2 px-4 rounded-lg hover:bg-blue-200 transition-colors">
                        Twitter (X) &rarr;
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- ===== ë§ˆì´í˜ì´ì§€ ===== -->
    <div id="mypage-page" class="page space-y-6 mt-24">
        <button onclick="navigateTo('main-page')"
                class="text-sm text-gray-600 hover:text-point">&larr; ë©”ì¸ìœ¼ë¡œ</button>
        <div class="flex items-center justify-between">
            <h1 class="text-3xl font-bold text-gray-800">
                <span id="mypage-nickname" class="text-point">MyNickname</span>ë‹˜ì˜ í˜ì´ì§€
            </h1>
            <button onclick="handleLogout()"
                    class="bg-gray-300 text-gray-700 font-semibold py-2 px-4 rounded-lg shadow hover:bg-gray-400 transition-colors">
                ë¡œê·¸ì•„ì›ƒ
            </button>
        </div>
        <section>
            <h2 class="text-2xl font-bold mb-4 text-gray-800">ë‚´ê°€ ì˜¬ë¦° ë°ˆ</h2>
            <div id="mypage-prompt-list"
                 class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5">

                <div class="bg-white rounded-xl shadow-md overflow-hidden transform transition-transform
                            duration-300 ease-out hover:scale-105">
                    <img class="w-full h-48 object-cover cursor-pointer"
                         src="https://placehold.co/600x400/FFD572/FFF8E1?text=My+MiiM+1"
                         alt="ë‚´ê°€ ì˜¬ë¦° ë°ˆ"
                         onclick="navigateTo('detail-page')">
                    <div class="p-4">
                        <h3 class="font-bold text-lg">ë‚´ê°€ ë§Œë“  ì²«ë²ˆì§¸ ë°ˆ</h3>
                        <p class="text-sm text-gray-600">
                            by <span class="mypage-nickname-display">MyNickname</span>
                        </p>
                        <p class="text-sm text-gray-500 mt-2 truncate">
                            My first awesome prompt...
                        </p>
                        <button onclick="showNotification('ì‚­ì œ APIê°€ í˜¸ì¶œë©ë‹ˆë‹¤.')"
                                class="mt-3 w-full bg-red-100 text-red-700 font-semibold py-2 px-4 rounded-lg
                                       hover:bg-red-200 transition-colors">
                            ì‚­ì œ
                        </button>
                    </div>
                </div>

                <div class="bg-white rounded-xl shadow-md overflow-hidden transform transition-transform
                            duration-300 ease-out hover:scale-105">
                    <img class="w-full h-48 object-cover cursor-pointer"
                         src="https://placehold.co/600x400/FF9F43/FFF8E1?text=My+MiiM+2"
                         alt="ë‚´ê°€ ì˜¬ë¦° ë°ˆ"
                         onclick="navigateTo('detail-page')">
                    <div class="p-4">
                        <h3 class="font-bold text-lg">ë‘ë²ˆì§¸ í…ŒìŠ¤íŠ¸ ë°ˆ</h3>
                        <p class="text-sm text-gray-600">
                            by <span class="mypage-nickname-display">MyNickname</span>
                        </p>
                        <p class="text-sm text-gray-500 mt-2 truncate">
                            The second prompt I've made for testing...
                        </p>
                        <button onclick="showNotification('ì‚­ì œ APIê°€ í˜¸ì¶œë©ë‹ˆë‹¤.')"
                                class="mt-3 w-full bg-red-100 text-red-700 font-semibold py-2 px-4 rounded-lg
                                       hover:bg-red-200 transition-colors">
                            ì‚­ì œ
                        </button>
                    </div>
                </div>

            </div>
        </section>
    </div>

    <!-- ===== ê²€ìƒ‰ ê²°ê³¼ í˜ì´ì§€ ===== -->
    <div id="search-page" class="page space-y-6 mt-24">
        <button onclick="navigateTo('main-page')"
                class="text-sm text-gray-600 hover:text-point">&larr; ë©”ì¸ìœ¼ë¡œ</button>

        <h1 class="text-3xl font-bold text-gray-800">
            '<span id="search-keyword" class="text-point">...</span>'ì— ëŒ€í•œ ê²€ìƒ‰ ê²°ê³¼
        </h1>

        <section>
            <div id="search-prompt-list"
                 class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5">
                <div class="bg-white rounded-xl shadow-md overflow-hidden cursor-pointer transform
                            transition-transform duration-300 ease-out hover:scale-105"
                     onclick="secureNavigate('detail-page')">
                    <img class="w-full h-48 object-cover"
                         src="https://placehold.co/600x400/FFD572/FFF8E1?text=Search+Result+1"
                         alt="í”„ë¡¬í”„íŠ¸ ë¯¸ë¦¬ë³´ê¸°">
                    <div class="p-4">
                        <h3 class="font-bold text-lg">ìš°ì£¼ ë¹„í–‰ì‚¬ í–„ìŠ¤í„°</h3>
                        <p class="text-sm text-gray-600">by SpaceHam</p>
                        <p class="text-sm text-gray-500 mt-2 truncate">
                            A hamster wearing a detailed astronaut suit...
                        </p>
                        <div class="flex gap-2 mt-2">
                            <span class="bg-green-100 text-xs text-green-700 px-2 py-0.5 rounded-full">Gemini</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ê²€ìƒ‰ ê²°ê³¼ ì—†ìŒ -->
        <div id="search-no-results" class="hidden text-center py-16">
            <svg class="mx-auto h-12 w-12 text-gray-400" fill="none"
                 viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 10.5a.5.5 0 01.5-.5h3a.5.5 0 010 1h-3a.5.5 0 01-.5-.5zM10 13.5a.5.5 0 01.5-.5h3a.5.5 0 010 1h-3a.5.5 0 01-.5-.5z"/>
            </svg>
            <h3 class="mt-2 text-lg font-semibold text-gray-800">ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤</h3>
            <p class="mt-1 text-sm text-gray-500">ë‹¤ë¥¸ ê²€ìƒ‰ì–´ë¡œ ë‹¤ì‹œ ì‹œë„í•´ë³´ì„¸ìš”.</p>
        </div>
    </div>

</div> <!-- /#app-container -->

<!-- JS ëª¨ë“ˆë“¤ (ì˜ì¡´ì„± ìˆœì„œ ì¤‘ìš”) -->
<script src="./js/state.js"></script>
<script src="./js/router.js"></script>
<script src="./js/ui.js"></script>
<script src="./js/ranking.js"></script>
<script src="./js/auth.js"></script>
<script src="./js/prompts.js"></script>
<script src="./js/app.js"></script>

</body>
</html>
